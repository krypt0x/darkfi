<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Manages synchronization with darkfid"><title>explorerd::service::sync - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-dbdb5eec.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="explorerd" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0-nightly (acabb5248 2024-12-04)" data-channel="nightly" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../../../static.files/storage-59e33391.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../explorerd/index.html">explorerd</a><span class="version">0.4.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module sync</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#sync-module" title="Sync Module">Sync Module</a><ul><li><a href="#responsibilities" title="Responsibilities">Responsibilities</a></li></ul></li></ul><h3><a href="#functions">Module Items</a></h3><ul class="block"><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In explorerd::<wbr>service</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../index.html">explorerd</a>::<wbr><a href="../index.html">service</a></span><h1>Module <span>sync</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/explorerd/service/sync.rs.html#19-427">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Manages synchronization with darkfid</p>
<h2 id="sync-module"><a class="doc-anchor" href="#sync-module">§</a>Sync Module</h2>
<p>The <code>sync</code> module is responsible for synchronizing the explorer’s database with the Darkfi
blockchain network. It ensures consistency between the explorer and the blockchain by
fetching missing blocks, handling reorganizations (reorgs), and subscribing to live updates
through Darkfi’s JSON-RPC service.</p>
<h3 id="responsibilities"><a class="doc-anchor" href="#responsibilities">§</a>Responsibilities</h3>
<ul>
<li><strong>Block Synchronization</strong>: Handles fetching and storing blocks from a Darkfi
blockchain node during startup or when syncing, ensuring the explorer stays synchronized
with the latest confirmed blocks.</li>
<li><strong>Real-Time Updates</strong>: Subscribes to Darkfi’s JSON-RPC notification service,
allowing the explorer to process and sync new blocks as they are confirmed.</li>
<li><strong>Reorg Handling</strong>: Detects and resolves blockchain reorganizations by identifying
the last common block (in case of divergence) and re-aligning the explorer’s state with the
latest blockchain state. Reorgs are an importnt part of synchronization because they prevent
syncing invalid or outdated states, ensuring the explorer maintains an accurate view of a
Darkfi blockchain network.</li>
</ul>
</div></details><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.subscribe_sync_blocks.html" title="fn explorerd::service::sync::subscribe_sync_blocks">subscribe_<wbr>sync_<wbr>blocks</a></div><div class="desc docblock-short">Subscribes to darkfid’s JSON-RPC notification endpoint that serves
new confirmed blocks. Upon receiving them, store them to the database.</div></li></ul></section></div></main></body></html>