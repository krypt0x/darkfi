<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Validator blockchain sync protocol"><title>darkfid::proto::protocol_sync - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-dbdb5eec.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="darkfid" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0-nightly (acabb5248 2024-12-04)" data-channel="nightly" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../../../static.files/storage-59e33391.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../darkfid/index.html">darkfid</a><span class="version">0.4.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module protocol_<wbr>sync</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#constants" title="Constants">Constants</a></li><li><a href="#functions" title="Functions">Functions</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In darkfid::<wbr>proto</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../index.html">darkfid</a>::<wbr><a href="../index.html">proto</a></span><h1>Module <span>protocol_sync</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/darkfid/proto/protocol_sync.rs.html#19-884">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Validator blockchain sync protocol</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ForkHeaderHashRequest.html" title="struct darkfid::proto::protocol_sync::ForkHeaderHashRequest">Fork<wbr>Header<wbr>Hash<wbr>Request</a></div><div class="desc docblock-short">Structure represening a request to ask a node a fork header for the
requested height. The fork is identified by the provided header hash.</div></li><li><div class="item-name"><a class="struct" href="struct.ForkHeaderHashResponse.html" title="struct darkfid::proto::protocol_sync::ForkHeaderHashResponse">Fork<wbr>Header<wbr>Hash<wbr>Response</a></div><div class="desc docblock-short">Structure representing the response to <code>ForkHeaderHashRequest</code>,
containing the requested fork header hash, if it was found.</div></li><li><div class="item-name"><a class="struct" href="struct.ForkHeadersRequest.html" title="struct darkfid::proto::protocol_sync::ForkHeadersRequest">Fork<wbr>Headers<wbr>Request</a></div><div class="desc docblock-short">Structure represening a request to ask a node for up to <code>BATCH</code>
fork headers for provided header hashes.  The fork is identified
by the provided header hash.</div></li><li><div class="item-name"><a class="struct" href="struct.ForkHeadersResponse.html" title="struct darkfid::proto::protocol_sync::ForkHeadersResponse">Fork<wbr>Headers<wbr>Response</a></div><div class="desc docblock-short">Structure representing the response to <code>ForkHeadersRequest</code>,
containing up to <code>BATCH</code> fork headers.</div></li><li><div class="item-name"><a class="struct" href="struct.ForkProposalsRequest.html" title="struct darkfid::proto::protocol_sync::ForkProposalsRequest">Fork<wbr>Proposals<wbr>Request</a></div><div class="desc docblock-short">Structure represening a request to ask a node for up to <code>BATCH</code>
fork proposals for provided header hashes.  The fork is identified
by the provided header hash.</div></li><li><div class="item-name"><a class="struct" href="struct.ForkProposalsResponse.html" title="struct darkfid::proto::protocol_sync::ForkProposalsResponse">Fork<wbr>Proposals<wbr>Response</a></div><div class="desc docblock-short">Structure representing the response to <code>ForkProposalsRequest</code>,
containing up to <code>BATCH</code> fork headers.</div></li><li><div class="item-name"><a class="struct" href="struct.ForkSyncRequest.html" title="struct darkfid::proto::protocol_sync::ForkSyncRequest">Fork<wbr>Sync<wbr>Request</a></div><div class="desc docblock-short">Structure represening a request to ask a node a fork sequence.
If we include a specific fork tip, they have to return its sequence,
otherwise they respond with their best fork sequence.
We also include our own canonical(confirmed) tip, so they can verify
we follow the same sequence.</div></li><li><div class="item-name"><a class="struct" href="struct.ForkSyncResponse.html" title="struct darkfid::proto::protocol_sync::ForkSyncResponse">Fork<wbr>Sync<wbr>Response</a></div><div class="desc docblock-short">Structure representing the response to <code>ForkSyncRequest</code>,
containing the requested fork sequence, up to <code>BATCH</code> proposals.</div></li><li><div class="item-name"><a class="struct" href="struct.HeaderSyncRequest.html" title="struct darkfid::proto::protocol_sync::HeaderSyncRequest">Header<wbr>Sync<wbr>Request</a></div><div class="desc docblock-short">Structure represening a request to ask a node for up to <code>BATCH</code> headers before
the provided header height.</div></li><li><div class="item-name"><a class="struct" href="struct.HeaderSyncResponse.html" title="struct darkfid::proto::protocol_sync::HeaderSyncResponse">Header<wbr>Sync<wbr>Response</a></div><div class="desc docblock-short">Structure representing the response to <code>HeaderSyncRequest</code>,
containing up to <code>BATCH</code> headers before the requested block height.</div></li><li><div class="item-name"><a class="struct" href="struct.ProtocolSyncHandler.html" title="struct darkfid::proto::protocol_sync::ProtocolSyncHandler">Protocol<wbr>Sync<wbr>Handler</a></div><div class="desc docblock-short">Handler managing all <code>ProtocolSync</code> messages, over generic P2P protocols.</div></li><li><div class="item-name"><a class="struct" href="struct.SyncRequest.html" title="struct darkfid::proto::protocol_sync::SyncRequest">Sync<wbr>Request</a></div><div class="desc docblock-short">Structure represening a request to ask a node for up to<code>BATCH</code> blocks
of provided headers.</div></li><li><div class="item-name"><a class="struct" href="struct.SyncResponse.html" title="struct darkfid::proto::protocol_sync::SyncResponse">Sync<wbr>Response</a></div><div class="desc docblock-short">Structure representing the response to <code>SyncRequest</code>,
containing up to <code>BATCH</code> blocks after the requested block height.</div></li><li><div class="item-name"><a class="struct" href="struct.TipRequest.html" title="struct darkfid::proto::protocol_sync::TipRequest">TipRequest</a></div><div class="desc docblock-short">Structure represening a request to ask a node for their current
canonical(confirmed) tip block hash, if they are synced. We also
include our own tip, so they can verify we follow the same sequence.</div></li><li><div class="item-name"><a class="struct" href="struct.TipResponse.html" title="struct darkfid::proto::protocol_sync::TipResponse">TipResponse</a></div><div class="desc docblock-short">Structure representing the response to <code>TipRequest</code>,
containing a boolean flag to indicate if we are synced,
and our canonical(confirmed) tip block height and hash.</div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.BATCH.html" title="constant darkfid::proto::protocol_sync::BATCH">BATCH</a></div></li><li><div class="item-name"><a class="constant" href="constant.PROTOCOL_SYNC_METERING_CONFIGURATION.html" title="constant darkfid::proto::protocol_sync::PROTOCOL_SYNC_METERING_CONFIGURATION">PROTOCOL_<wbr>SYNC_<wbr>METERING_<wbr>CONFIGURATION</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.handle_receive_fork_header_hash_request.html" title="fn darkfid::proto::protocol_sync::handle_receive_fork_header_hash_request">handle_<wbr>receive_<wbr>fork_<wbr>header_<wbr>hash_<wbr>request</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Background handler function for ProtocolSyncForkHeaderHash.</div></li><li><div class="item-name"><a class="fn" href="fn.handle_receive_fork_headers_request.html" title="fn darkfid::proto::protocol_sync::handle_receive_fork_headers_request">handle_<wbr>receive_<wbr>fork_<wbr>headers_<wbr>request</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Background handler function for ProtocolSyncForkHeaders.</div></li><li><div class="item-name"><a class="fn" href="fn.handle_receive_fork_proposals_request.html" title="fn darkfid::proto::protocol_sync::handle_receive_fork_proposals_request">handle_<wbr>receive_<wbr>fork_<wbr>proposals_<wbr>request</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Background handler function for ProtocolSyncForkProposals.</div></li><li><div class="item-name"><a class="fn" href="fn.handle_receive_fork_request.html" title="fn darkfid::proto::protocol_sync::handle_receive_fork_request">handle_<wbr>receive_<wbr>fork_<wbr>request</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Background handler function for ProtocolSyncFork.</div></li><li><div class="item-name"><a class="fn" href="fn.handle_receive_header_request.html" title="fn darkfid::proto::protocol_sync::handle_receive_header_request">handle_<wbr>receive_<wbr>header_<wbr>request</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Background handler function for ProtocolSyncHeader.</div></li><li><div class="item-name"><a class="fn" href="fn.handle_receive_request.html" title="fn darkfid::proto::protocol_sync::handle_receive_request">handle_<wbr>receive_<wbr>request</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Background handler function for ProtocolSync.</div></li><li><div class="item-name"><a class="fn" href="fn.handle_receive_tip_request.html" title="fn darkfid::proto::protocol_sync::handle_receive_tip_request">handle_<wbr>receive_<wbr>tip_<wbr>request</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Background handler function for ProtocolSyncTip.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.ProtocolSyncHandlerPtr.html" title="type darkfid::proto::protocol_sync::ProtocolSyncHandlerPtr">Protocol<wbr>Sync<wbr>Handler<wbr>Ptr</a></div><div class="desc docblock-short">Atomic pointer to the <code>ProtocolSync</code> handler.</div></li></ul></section></div></main></body></html>